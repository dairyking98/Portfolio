# No HTML in Root - Local Build Configuration

## Overview

This repository is configured so that:
- **Local builds** create HTML in `local/_site/` (subdirectory)
- **GitHub Pages** builds HTML in root when you push (automatic)
- **No HTML artifacts** are created in root during local development

## Current Configuration

### Local Build Scripts

Both `serve.bat` and `build.bat` are configured to use `--destination local/_site`:

```batch
# serve.bat
bundle exec jekyll serve --destination local/_site

# build.bat
bundle exec jekyll build --destination local/_site
```

This ensures that:
- ✅ All generated HTML goes to `local/_site/`
- ✅ No `_site/` directory is created in root
- ✅ Root stays clean with only source files

### Source Files vs Generated Files

**Source Files (in root - these are OK):**
- `index.html` - Jekyll source file (has YAML front matter)
- `tags.html` - Jekyll source file (has YAML front matter)
- `archives.html` - Jekyll source file (has YAML front matter)
- `typewriters.html` - Jekyll source file (has YAML front matter)
- `_layouts/*.html` - Layout templates (Jekyll source)
- `_posts/*.md` - Blog posts (Markdown source)
- `_typewriters/*.md` - Typewriter pages (Markdown source)

**Generated Files (should NOT be in root):**
- `_site/` - Generated HTML (should be in `local/_site/` for local builds)
- `about/index.html` - Generated from `about.md`
- `posts/*/index.html` - Generated from `_posts/*.md`
- `tag/*/index.html` - Generated by Jekyll plugins
- etc.

## Git Configuration

### .gitignore

The `.gitignore` file prevents HTML artifacts from being committed:

```
# Jekyll
_site/           # Generated HTML (ignored)
local/           # Local build directory (ignored)
```

### What Gets Committed

✅ **Committed to Git:**
- Source files (Markdown, HTML templates, config)
- `index.html`, `tags.html`, `archives.html`, `typewriters.html` (Jekyll source)
- `_layouts/`, `_posts/`, `_typewriters/`, etc. (source files)

❌ **NOT Committed:**
- `_site/` directory (generated HTML)
- `local/` directory (local build output)
- Any generated HTML artifacts

## Workflow

### Local Development

1. **Edit source files** (Markdown, HTML templates, etc.)
2. **Run `serve.bat`** - Builds to `local/_site/` and serves at http://localhost:4000
3. **Preview changes** in browser
4. **No HTML in root** - All generated files are in `local/_site/`

### Deployment to GitHub

1. **Commit source files** (no generated HTML)
2. **Push to GitHub**
3. **GitHub Pages builds automatically** - Generates HTML in root on GitHub's servers
4. **Site is deployed** - GitHub serves the generated HTML

## Verification

### Check Local Build Output

```bash
# Build should create local/_site/, not root _site/
.\build.bat

# Verify
Test-Path local/_site/index.html  # Should be True
Test-Path _site/index.html        # Should be False
```

### Check Git Status

```bash
# Should NOT show _site/ or local/ in git status
git status

# Should NOT track generated HTML
git ls-files | Select-String "_site"
git ls-files | Select-String "local/"
```

## Troubleshooting

### If `_site/` Appears in Root

1. **Check batch files** - Ensure they use `--destination local/_site`
2. **Delete `_site/`** - `Remove-Item -Path "_site" -Recurse -Force`
3. **Verify .gitignore** - Ensure `_site/` is in `.gitignore`
4. **Rebuild** - Run `serve.bat` or `build.bat` again

### If HTML Artifacts Appear in Root

1. **Check .gitignore** - Ensure patterns are correct
2. **Remove artifacts** - Delete any generated HTML files
3. **Verify source files** - Make sure you're editing source, not generated files
4. **Rebuild** - Jekyll will regenerate from source

## Summary

- ✅ Local builds go to `local/_site/` (not root)
- ✅ Root contains only source files
- ✅ GitHub Pages builds in root automatically
- ✅ No HTML artifacts are committed to Git
- ✅ Clean separation between source and generated files

